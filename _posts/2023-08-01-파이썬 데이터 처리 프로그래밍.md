---
layout: post
title: "[SeSAC]파이썬 데이터 처리 프로그래밍-1일차"
date: 2023-08-01 09:00:33 +0900
categories: [SeSAC,데이터 분석 기초]
tags: []
---

## BeautifulSoup

### Naver 지식인 타이틀 페이지네이션

```python
import requests
from bs4 import BeautifulSoup
from fake_useragent import UserAgent

ua = UserAgent()
headers = {
    "User-Agent":ua.random
}
for i in range(1, 10):
    link = f'https://kin.naver.com/search/list.naver?query=%ED%8C%8C%EC%9D%B4%EC%8D%AC&page={i}'
    res = requests.get(link, headers=headers)
    bs = BeautifulSoup(res.text, 'html.parser')


    uls = bs.select_one('#s_content > div.section > ul')
    titles = uls.select('dt > a')
    for title in titles:
        print(title.text)
        print(title.attrs.get("href"))
```

## Pymysql
- database에 접속하기 위한 라이브러리

### Pymysql을 이용한 데이터 조회
```python
#!pip install pymysql
import pymysql

db = pymysql.connect(host="localhost", port=3306, user="root", password="peter2012!", db="market_db")
cursor = db.cursor()

sql = """
SELECT * FROM member;
"""

cursor.execute(sql)
result = cursor.fetchmany(size=100)
for data in result:
    print(data)
    
db.close()
```

> db.close()를 항상 주의해줄것(주피터 노트북 환경이라 더욱 신경써줘야 한다)

### Pymysql을 이용한 데이터 삽입
```python
import pymysql

db = pymysql.connect(host="localhost", port=3306, user="root", password="peter2012!", db="market_db")
cursor = db.cursor()

sql = """
INSERT INTO member VALUES('ABC', '에이비씨', 10, '경기', '031', '11122233', 170, '2023-08-01');
"""

cursor.execute(sql)
db.commit()
db.close()
```


### Workbench에서 새로운 스키마, 테이블 생성

![](https://i.imgur.com/s6yBZ4s.png)

